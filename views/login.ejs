<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login and Registration form</title>
    <meta charset="UTF-8">
    <!--<title> Login and Registration Form in HTML & CSS | CodingLab </title>-->

    <!-- Fontawesome CDN Link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
    }
    
    body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: whitesmoke;
        padding: 30px;
    }
    
    .container {
        position: relative;
        max-width: 850px;
        width: 100%;
        background: #fff;
        padding: 40px 30px;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        perspective: 2700px;
    }
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
    
    .container .cover {
        position: absolute;
        top: 0;
        left: 50%;
        height: 100%;
        width: 50%;
        z-index: 98;
        transition: all 1s ease;
        transform-origin: left;
        transform-style: preserve-3d;
    }
    
    .container .cover::before {
        content: '';
        position: absolute;
        height: 100%;
        width: 100%;
        background: black;
        opacity: 0.5;
        z-index: 100;
    }
    
    .container .cover::after {
        content: '';
        position: absolute;
        height: 100%;
        width: 100%;
        background: whitesmoke;
        opacity: 0.5;
        z-index: 100;
        transform: rotateY(180deg);
    }
    
    .container #flip:checked~.cover {
        transform: rotateY(-180deg);
    }
    
    .container .cover img {
        position: absolute;
        height: 100%;
        width: 100%;
        object-fit: cover;
        z-index: 12;
        backface-visibility: hidden;
    }
  
    .container .cover .back .backImg {
        transform: rotateY(180deg);
        transform: rotateY(180deg);
    }
     
    .container .cover .text {
        position: absolute;
        z-index: 111;
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .cover .text .text-1,
    .cover .text .text-2 {
        font-size: 26px;
        font-weight: 600;
        color: black;
        text-align: center;
        backface-visibility: hidden;
    }
    
    .cover .back .text .text-1,
    .cover .back .text .text-2 {
        transform: rotateY(180deg);
    }
    
    .cover .text .text-2 {
        font-size: 15px;
        font-weight: 500;
    }
    
    .container .forms {
        height: 100%;
        width: 100%;
        background: #fff;
    }
    
    .container .form-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .form-content .login-form,
    .form-content .signup-form {
        width: calc(100% / 2 - 25px);
    }
    
    .forms .form-content .title {
        position: relative;
        font-size: 24px;
        font-weight: 500;
        color: #333;
    }
    
    .forms .form-content .title:before {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        height: 3px;
        width: 25px;
        background: whitesmoke;
    }
    
    .forms .signup-form .title:before {
        width: 20px;
    }
    
    .forms .form-content .input-boxes {
        margin-top: 30px;
    }
    
    .forms .form-content .input-box {
        display: flex;
        align-items: center;
        height: 50px;
        width: 100%;
        margin: 10px 0;
        position: relative;
    }
    
    .form-content .input-box input {
        height: 100%;
        width: 100%;
        outline: none;
        border: none;
        padding: 0 30px;
        font-size: 16px;
        font-weight: 500;
        border-bottom: 2px solid rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }
    
    .form-content .input-box input:focus,
    .form-content .input-box input:valid {
        border-color: whitesmoke;
    }
    
    .form-content .input-box i {
        position: absolute;
        color: black;
        font-size: 17px;
    }
    
    .forms .form-content .text {
        font-size: 14px;
        font-weight: 500;
        color: #333;
    }
    
    .forms .form-content .text a {
        text-decoration: none;
    }
    
    .forms .form-content .text a:hover {
        text-decoration: underline;
    }
    
    .forms .form-content .button {
        color: #fff;
        margin-top: 40px;
    }
    
    .forms .form-content .button input {
        color: #fff;
        background: red;
        border-radius: 6px;
        padding: 0;
        cursor: pointer;
        transition: all 0.4s ease;
    }
    
    .forms .form-content .button input:hover {
        background: rgb(223, 13, 13);
    }
    
    .forms .form-content label {
        color: black;
        cursor: pointer;
    }
    
    .forms .form-content label:hover {
        text-decoration: underline;
    }
    
    .forms .form-content .login-text,
    .forms .form-content .sign-up-text {
        text-align: center;
        margin-top: 25px;
    }
    
    /* .container #flip {
        display: none;
    }
     */
    @media (max-width: 730px) {
        .container .cover {
            display: none;
        }
        .form-content .login-form,
        .form-content .signup-form {
            width: 100%;
        }
        .form-content .signup-form {
            display: none;
        }
        .container #flip:checked~.forms .signup-form {
            display: block;
        }
        .container #flip:checked~.forms .login-form {
            display: none;
        }
    }
</style>

<body class="outerbox">
    <div class="container">
        <input type="checkbox" id="flip" style="display: none;">
        <div class="cover">
            <div class="front">
                <!-- <img src="login-img.png" alt=""> -->
                <div class="text">
                    <span class="text-1">Every new friend is a <br> new adventure</span>
                    <span class="text-2">Let's get connected</span>
                </div>
            </div>
            <div class="back">
                <!-- <img class="backImg" src="D:\Wt\Shared roof\current version 3\login-img.png" alt=""> -->
                <div class="text">
                    <span class="text-1">Complete miles of journey <br> with one step</span>
                    <span class="text-2">Let's get started</span>
                </div>
            </div>
        </div>
        <div class="forms">
            <div class="form-content">

                <div class="signup-form">
                    <div class="title">Signup</div>
                    <form autocomplete="off" action="/register" id="register" class="input-group" method="POST">
                        <div class="input-boxes">
                            <div class="input-box">
                                <i class="fas fa-user"></i>
                                <input type="text" class="input-field" placeholder="Username" name="userid"  pattern="[a-z]{1,15}" title="username must be in lowercase e.g harsh" required>
                            </div>
                            <div class="input-box">
                                <i class="fas fa-envelope"></i>
                                <input type="email" class="input-field" placeholder="someone@example.com" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>
                            </div>

                            <div class="input-box">
                                <i class="fas fa-phone"></i>
                                <input type="number" class="input-field" minlenght="10" maxlenght="10" placeholder="Phone Number" name="phone" required>

                            </div>
                            <div class="input-box">
                                <i class="fas fa-lock"></i>
                                <input type="password" class="input-field" placeholder="Enter Password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>

                            </div>
                            <div class="input-box">
                                <i class="fas fa-lock"></i>
                                <input type="password" class="input-field" placeholder="Confirm Password" name="confirmpassword" required>
                            </div>
                            <br>
                            <center>
                                <p id="invalidemail" style="display: none; color: red;">Invalid Email</p>
                            </center>
                            <div class="button input-box">
                                <input type="submit" value="Submit">
                            </div>
                            <div class="text sign-up-text">Already have an account? <label for="flip"><u>Login now</u></label></div>
                        </div>
                    </form>
                </div>
                <!-- Afterthis -->
                <div class="login-form">
                    <div class="title">Login</div>
                    <form action="/login" id="login" class="input-group" method="POST">
                        <div class="input-boxes">
                            <div class="input-box">
                                <i class="fas fa-envelope"></i>
                                <input type="email" class="input-field" placeholder="someone@example.com" required name="email" pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                            </div>
                            <div class="input-box">
                                <i class="fas fa-lock"></i>
                                <input type="password" class="input-field" placeholder="Enter Password" required name="password">
                            </div>
                            <!-- <div class="text"><a href="#">Forgot password?</a></div> -->
                            <br>
                            <center>
                                <p id="failedlogin" style="display: none; color: red;">Invalid Credentials</p>
                            </center>
                            <div class="button input-box">
                                <input type="submit" value="Submit">
                            </div>
                            <div class="text sign-up-text">Don't have an account? <label for="flip"><u>Sigup now</u></label></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        var email = <%-JSON.stringify(noemail)%>
        console.log(email)
        if (email === false) {
            document.getElementById('invalidemail').innerHTML = "Invalid Email"
            document.getElementById('invalidemail').style.display = 'block'
            //alert("Invalid Email")
        }
        if (email === "success") {
            
            //document.getElementById('invalidemail').innerHTML = "Registered Successfully"
            //document.getElementById('invalidemail').style.color = 'green'
            //document.getElementById('invalidemail').style.display = 'block'
            alert("successfully registered")
            document.getElementById('flip').checked = true
            
        }
        if (email === "mismatch") {
            document.getElementById('invalidemail').innerHTML = "Password mismatch"
            document.getElementById('invalidemail').style.display = 'block'
            //alert("Invalid Email")
        }
        if (email === "emailavl") {
            document.getElementById('invalidemail').innerHTML = "Email already registered"
            document.getElementById('invalidemail').style.display = 'block'
            //alert("Invalid Email")
        }
        if (email === "invalid") {
            //document.getElementById('invalidemail').innerHTML = "Email already registered"
            document.getElementById('failedlogin').style.display = 'block'
            document.getElementById('flip').checked = true
            //alert("Invalid Email")
        }
    </script>
</body>


</html>